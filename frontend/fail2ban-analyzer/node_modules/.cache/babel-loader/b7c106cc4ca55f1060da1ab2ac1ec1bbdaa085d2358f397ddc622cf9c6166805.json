{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\hudso\\\\code\\\\fail2ban-analyzer2\\\\frontend\\\\fail2ban-analyzer\\\\src\\\\App.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst App = () => {\n  _s();\n  const [file, setFile] = useState(null);\n  const [graphUrl, setGraphUrl] = useState(null);\n  const [ipCounts, setIpCounts] = useState(null);\n  const [loading, setLoading] = useState(false);\n\n  // Handle file input change\n  const handleFileChange = event => {\n    if (event.target.files) {\n      setFile(event.target.files[0]);\n    }\n  };\n\n  // Handle form submit\n  const handleSubmit = async event => {\n    event.preventDefault();\n    if (!file) return;\n    setLoading(true); // Start loading while sending request\n\n    const formData = new FormData();\n    formData.append('file', file);\n    try {\n      const response = await axios.post('http://localhost:5000/upload', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n\n      // Handle response containing IP counts and graph URL\n      setIpCounts(response.data.counts);\n      setGraphUrl(response.data.graph_url);\n    } catch (error) {\n      console.error('Error uploading file:', error);\n    } finally {\n      setLoading(false); // Stop loading when request completes\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: 'flex',\n      justifyContent: 'space-between',\n      padding: '20px'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        width: '45%'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Fail2Ban Log Analyzer\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          onChange: handleFileChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          disabled: loading,\n          children: loading ? 'Uploading...' : 'Upload'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this), ipCounts && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: '20px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Failed Login Attempts\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: Object.entries(ipCounts).map(([ip, count]) => /*#__PURE__*/_jsxDEV(\"li\", {\n            children: `IP ${ip}: ${count}`\n          }, ip, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        width: '45%',\n        textAlign: 'center'\n      },\n      children: graphUrl ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Login Attempts Graph\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n          src: graphUrl,\n          alt: \"Graph\",\n          style: {\n            maxWidth: '100%',\n            height: 'auto'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"No graph available yet. Upload a file to see the graph.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this);\n};\n_s(App, \"pJ+SYcZ5VFoa8yumCuc1N/v/rNg=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","axios","jsxDEV","_jsxDEV","Fragment","_Fragment","App","_s","file","setFile","graphUrl","setGraphUrl","ipCounts","setIpCounts","loading","setLoading","handleFileChange","event","target","files","handleSubmit","preventDefault","formData","FormData","append","response","post","headers","data","counts","graph_url","error","console","style","display","justifyContent","padding","children","width","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","onChange","disabled","marginTop","Object","entries","map","ip","count","textAlign","src","alt","maxWidth","height","_c","$RefreshReg$"],"sources":["C:/Users/hudso/code/fail2ban-analyzer2/frontend/fail2ban-analyzer/src/App.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\n\nconst App = () => {\n  const [file, setFile] = useState<File | null>(null);\n  const [graphUrl, setGraphUrl] = useState<string | null>(null);\n  const [ipCounts, setIpCounts] = useState<{ [key: string]: number } | null>(null);\n  const [loading, setLoading] = useState<boolean>(false);\n\n  // Handle file input change\n  const handleFileChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    if (event.target.files) {\n      setFile(event.target.files[0]);\n    }\n  };\n\n  // Handle form submit\n  const handleSubmit = async (event: React.FormEvent) => {\n    event.preventDefault();\n    if (!file) return;\n\n    setLoading(true); // Start loading while sending request\n\n    const formData = new FormData();\n    formData.append('file', file);\n\n    try {\n      const response = await axios.post('http://localhost:5000/upload', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data',\n        },\n      });\n\n      // Handle response containing IP counts and graph URL\n      setIpCounts(response.data.counts);\n      setGraphUrl(response.data.graph_url);\n\n    } catch (error) {\n      console.error('Error uploading file:', error);\n    } finally {\n      setLoading(false); // Stop loading when request completes\n    }\n  };\n\n  return (\n    <div style={{ display: 'flex', justifyContent: 'space-between', padding: '20px' }}>\n      {/* Left section for title and upload button */}\n      <div style={{ width: '45%' }}>\n        <h1>Fail2Ban Log Analyzer</h1>\n        <form onSubmit={handleSubmit}>\n          <input type=\"file\" onChange={handleFileChange} />\n          <button type=\"submit\" disabled={loading}>\n            {loading ? 'Uploading...' : 'Upload'}\n          </button>\n        </form>\n\n        {/* Display IP counts below the upload button */}\n        {ipCounts && (\n          <div style={{ marginTop: '20px' }}>\n            <h3>Failed Login Attempts</h3>\n            <ul>\n              {Object.entries(ipCounts).map(([ip, count]) => (\n                <li key={ip}>{`IP ${ip}: ${count}`}</li>\n              ))}\n            </ul>\n          </div>\n        )}\n      </div>\n\n      {/* Right section for displaying the graph */}\n      <div style={{ width: '45%', textAlign: 'center' }}>\n        {graphUrl ? (\n          <>\n            <h3>Login Attempts Graph</h3>\n            <img src={graphUrl} alt=\"Graph\" style={{ maxWidth: '100%', height: 'auto' }} />\n          </>\n        ) : (\n          <p>No graph available yet. Upload a file to see the graph.</p>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}